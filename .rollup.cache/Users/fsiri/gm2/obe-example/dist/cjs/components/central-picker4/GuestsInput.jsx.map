{"version":3,"file":"GuestsInput.jsx","sourceRoot":"","sources":["../../../../components/central-picker4/GuestsInput.tsx"],"names":[],"mappings":"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","sourcesContent":["\"use client\";\n\nimport React, { Fragment, useState } from \"react\";\nimport { Popover, Transition } from \"@headlessui/react\";\nimport NcInputNumber from \"../../shared/NcInputNumber\";\nimport { FC } from \"react\";\nimport ClearDataButton from \"./ClearDataButton\";\nimport ButtonSubmit from \"./ButtonSubmit\";\nimport { PathName } from \"../../routers/types\";\nimport { UserPlusIcon } from \"@heroicons/react/24/outline\";\n\nexport interface GuestsObject {\n  guestAdults?: number;\n  guestChildren?: number;\n  guestInfants?: number;\n}\n\nexport interface GuestsInputProps {\n  fieldClassName?: string;\n  className?: string;\n  buttonSubmitHref?: PathName;\n  hasButtonSubmit?: boolean;\n}\n\nconst GuestsInput: FC<GuestsInputProps> = ({\n  fieldClassName = \"[ nc-hero-field-padding ]\",\n  className = \"[ nc-flex-1 ]\",\n  buttonSubmitHref = \"/listing-stay-map\",\n  hasButtonSubmit = true,\n}) => {\n  const [guestAdultsInputValue, setGuestAdultsInputValue] = useState(2);\n  const [guestChildrenInputValue, setGuestChildrenInputValue] = useState(1);\n  const [guestInfantsInputValue, setGuestInfantsInputValue] = useState(1);\n\n  const handleChangeData = (value: number, type: keyof GuestsObject) => {\n    // eslint-disable-next-line prefer-const\n    let newValue = {\n      guestAdults: guestAdultsInputValue,\n      guestChildren: guestChildrenInputValue,\n      guestInfants: guestInfantsInputValue,\n    };\n    if (type === \"guestAdults\") {\n      setGuestAdultsInputValue(value);\n      newValue.guestAdults = value;\n    }\n    if (type === \"guestChildren\") {\n      setGuestChildrenInputValue(value);\n      newValue.guestChildren = value;\n    }\n    if (type === \"guestInfants\") {\n      setGuestInfantsInputValue(value);\n      newValue.guestInfants = value;\n    }\n  };\n\n  const totalGuests =\n    guestChildrenInputValue + guestAdultsInputValue + guestInfantsInputValue;\n\n  return (\n    <Popover className={`flex relative ${className}`}>\n      {({ open }) => (\n        <>\n          <div\n            className={`flex-1 z-10 flex items-center focus:outline-none ${\n              open ? \"nc-hero-field-focused\" : \"\"\n            }`}\n          >\n            <Popover.Button\n              className={`relative z-10 flex-1 flex text-left items-center ${fieldClassName} space-x-3 focus:outline-none`}\n            >\n              <div className=\"text-neutral-300 dark:text-neutral-400\">\n                <UserPlusIcon className=\"w-5 h-5 lg:w-7 lg:h-7\" />\n              </div>\n              <div className=\"flex-grow\">\n                <span className=\"block xl:text-lg font-semibold\">\n                  {totalGuests || \"\"} Guests\n                </span>\n                <span className=\"block mt-1 text-sm text-neutral-400 leading-none font-light\">\n                  {totalGuests ? \"Guests\" : \"Add guests\"}\n                </span>\n              </div>\n\n              {!!totalGuests && open && (\n                <ClearDataButton\n                  onClick={() => {\n                    setGuestAdultsInputValue(0);\n                    setGuestChildrenInputValue(0);\n                    setGuestInfantsInputValue(0);\n                  }}\n                />\n              )}\n            </Popover.Button>\n\n            {/* BUTTON SUBMIT OF FORM */}\n            {hasButtonSubmit && (\n              <div className=\"pr-2 xl:pr-4\">\n                <ButtonSubmit href={buttonSubmitHref} />\n              </div>\n            )}\n          </div>\n\n          {open && (\n            <div className=\"h-8 absolute self-center top-1/2 -translate-y-1/2 z-0 -left-0.5 right-0.5 bg-white dark:bg-neutral-800\"></div>\n          )}\n          <Transition\n            as={Fragment}\n            enter=\"transition ease-out duration-200\"\n            enterFrom=\"opacity-0 translate-y-1\"\n            enterTo=\"opacity-100 translate-y-0\"\n            leave=\"transition ease-in duration-150\"\n            leaveFrom=\"opacity-100 translate-y-0\"\n            leaveTo=\"opacity-0 translate-y-1\"\n          >\n            <Popover.Panel className=\"absolute right-0 z-10 w-full sm:min-w-[340px] max-w-sm bg-white dark:bg-neutral-800 top-full mt-3 py-5 sm:py-6 px-4 sm:px-8 rounded-3xl shadow-xl\">\n              <NcInputNumber\n                className=\"w-full\"\n                defaultValue={guestAdultsInputValue}\n                onChange={(value) => handleChangeData(value, \"guestAdults\")}\n                max={10}\n                min={1}\n                label=\"Adults\"\n                desc=\"Ages 13 or above\"\n              />\n              <NcInputNumber\n                className=\"w-full mt-6\"\n                defaultValue={guestChildrenInputValue}\n                onChange={(value) => handleChangeData(value, \"guestChildren\")}\n                max={4}\n                label=\"Children\"\n                desc=\"Ages 2–12\"\n              />\n\n              <NcInputNumber\n                className=\"w-full mt-6\"\n                defaultValue={guestInfantsInputValue}\n                onChange={(value) => handleChangeData(value, \"guestInfants\")}\n                max={4}\n                label=\"Infants\"\n                desc=\"Ages 0–2\"\n              />\n            </Popover.Panel>\n          </Transition>\n        </>\n      )}\n    </Popover>\n  );\n};\n\nexport default GuestsInput;\n"]}